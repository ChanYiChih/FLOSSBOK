# Release Branches

A release branch is just a branch in the version control system, which is isolated from mainline development. Not only open source software development, but many proprietary development organizations also use them. However, in closed-source environments, release branches are sometimes considered a luxury — a kind of theoretical "best practice" that can, in the heat of a major deadline, be dispensed with while everyone on the team scrambles to stabilize the main tree.

Release branches are pretty much required in open source projects, however. If you don't use it, it could lead to bad results. First, overall development momentum is slowed. Second, the release is of poorer quality than it needed to be, because there were only a few people working on it, and they want to finish it in a hurry so everyone else could get back to work, while others are just sitting idle. Third, it divides the development team psychologically, by setting up a situation in which different types of work interfere with each other unnecessarily. The developers sitting idle would probably be happy to contribute some of their attention to a release branch, as long as that werea choice they could make according to their own schedules and interests. But without the branch, their choice becomes "Do I participate in the project today or not?" instead of "Do I work on the release to- day, or work on that new feature I've been developing in the mainline code?"

## Mechanics of Release Branches

The exact mechanics of creating a release branch depend on your version control system, of course, but the general concepts are the same in most systems. A branch usually sprouts from another branch or from the trunk. Traditionally, the trunk is where mainline development goes on, unfettered by release constraints, and, say, the first release branch, the one leading to the "1.0" release, sprouts off the trunk. Note that you might want to name the branch "1.0.x" \(with a literal "x"\) instead of "1.0.0". That way you can use the same minor line — i.e., the same branch — for all the micro releases in that line.

The social and technical process of stabilizing the branch for release is covered in the section called “Stabilizing a Release” later in this chapter. Here we are concerned just with the high-level version con- trol actions that relate to the release process. When the release branch is stabilized and ready, it is time to tag a snapshot from the branch \(see tag or snapshot in Chapter 3, Technical Infrastructure\) with a name like, e.g., "1.0.0". The resultant tag represents the exact state of the project's source tree in the 1.0.0 release \(this is useful when developers need to compare against an old version while tracking down a bug\). The next micro release in the same line is likewise prepared on the 1.0.x branch, and when it is ready, a tag is made for 1.0.1. Lather, rinse, repeat for 1.0.2, and so on. When it's time to start thinking about a 1.1.x release, make a new branch from trunk.

Maintenance can continue in parallel along both 1.0.x and 1.1.x, and releases can be made independent- ly from both lines \(while new development work happens either directly the main trunk — in Git, the "master" branch — or in short-lived "feature branches" that get merged into the main trunk as soon as they're ready\).

In fact, it is not unusual to publish near-simultaneous releases from two different lines. The older series is recommended for more conservative site administrators, who may not want to make the big jump to \(say\) 1.1 without careful preparation. Meanwhile, more adventurous people usually take the most recent release on the highest line, to make sure they're getting the latest features, even at the risk of greater in- stability.

This is not the only release branch strategy, of course. In some circumstances it may not even be the best, though it's worked out pretty well for projects I've been involved in. Use any strategy that seems to work, but remember the main points: the purpose of a release branch is to isolate release work from the fluctuations of daily development, and to give the project a physical entity — the release branch — around which to organize its release process. That process is described in detail in the next section.

